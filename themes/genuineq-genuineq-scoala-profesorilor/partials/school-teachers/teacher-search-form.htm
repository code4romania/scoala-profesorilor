description = "Displays the teacher search form."

[viewBag]
==
<form id="teacherSearchForm">
    <div id="teacherSearchFormContent" class="input-group mb-3">

        <div class="input-group-prepend">
            <span class="input-group-text md-addon border border-white bg-white"><i class="fa fa-search"></i></span>
        </div>

        <input name="searchInput" type="text" class="form-control border border-white shadow-none" placeholder="{{ 'teacher.search.placeholder'|_ }}" aria-label="{{ 'teacher.search.placeholder'|_ }}">

        <div class="input-group-append">
            <select name="sort" class="browser-default custom-select border border-white shadow-none rounded-0" id="sort">
                {% for key, value in sortTypes %}
                    <option value="{{ value }}">{{ key }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="input-group-append">
            <select name="seniorityLevel" class="browser-default custom-select border border-white shadow-none rounded-0" id="seniorityLevel">
                {% for key, value in seniorityLevels %}
                    <option value="{{ value }}">{{ key }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="input-group-append">
            <select name="schoolLevel" class="browser-default custom-select border border-white shadow-none rounded-0" id="schoolLevel">
                {% for key, value in schoolLevels %}
                    <option value="{{ value }}">{{ key }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="input-group-append">
            <select name="contractType" class="browser-default custom-select border border-white shadow-none rounded-0" id="contractType">
                {% for key, value in contractTypes %}
                    <option value="{{ value }}">{{ key }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="input-group-append">
            <a href="#" class="btn btn-md btn-secondary m-0 px-3 py-2 z-depth-0 waves-effect" type="button">{{ 'teacher.search.add_teacher'|_ }}</a>
        </div>

    </div>
</form>

<script type="text/javascript">
    function teacherSearchFormSubmit(){
        /* Extract the clicked page. */
        var $newPage = $('#teacherSearchPagination > ul > li.active').data('page');

        /* Select the teacher select form and send the request */
        $('#teacherSearchForm').request(
            'onTeacherSearch',
            {
                update: {'school-teachers/teacher-grid': '#teacherSearchResults', 'school-teachers/teacher-search-pagination': '#teacherSearchPagination'},
                data: {page: $newPage}
            }
        );
    }

    $('#teacherSearchFormContent').on('change', 'select', function () {
        teacherSearchFormSubmit();
    });

    $('#teacherSearchForm').on('submit', function () {
        teacherSearchFormSubmit();

        return false;
    })
</script>
