description = "Displays an appraisal details skills"

[viewBag]
==
{% if 'new' != appraisal.status and 'objectives-set' != appraisal.status %}
    <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 mt-3">
        <div class="md-form">
            <input name="first_skill" type="text" id="first_skill" class="form-control" value="{{ appraisal.first_skill_name }}" {% if 'objectives-approved' != appraisal.status %} readonly {% endif %}>
            <label for="first_skill">{{ 'school_appraisal.appraisal_view.grade'|_ }}</label>
            <div class="small text-danger" data-validate-for="first_skill"></div>
            <small id="first_skill_help" class="form-text text-muted">{{ appraisal.first_skill_description }}</small>
        </div>
    </div>

    <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 mt-3">
        <div class="form-group">
            <div class="md-form">
                <input name="first_skill_grade" type="number" id="first_skill_grade" class="form-control" value="{{ appraisal.first_skill_grade }}" min="1" max="10" {% if 'evaluation-opened' != appraisal.status %} readonly {% endif %}>
                <label for="first_skill_grade">{{ 'school_appraisal.appraisal_view.grade'|_ }}</label>
                <div class="small text-danger" data-validate-for="first_skill_grade"></div>
                <small id="first_skill_grade_help" class="form-text text-muted">{{ 'school_appraisal.appraisal_view.grade_help_text' }}</small>
            </div>
        </div>
    </div>


    <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 mt-3">
        <div class="md-form">
            <input name="second_skill" type="text" id="second_skill" class="form-control" value="{{ appraisal.second_skill_name }}" {% if 'objectives-approved' != appraisal.status %} readonly {% endif %}>
            <label for="second_skill">{{ 'school_appraisal.appraisal_view.grade'|_ }}</label>
            <div class="small text-danger" data-validate-for="second_skill"></div>
            <small id="second_skill_help" class="form-text text-muted">{{ appraisal.second_skill_description }}</small>
        </div>
    </div>

    <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 mt-3">
        <div class="form-group">
            <div class="md-form">
                <input name="second_skill_grade" type="number" id="second_skill_grade" class="form-control" value="{{ appraisal.second_skill_grade }}" min="1" max="10" {% if 'evaluation-opened' != appraisal.status %} readonly {% endif %}>
                <label for="second_skill_grade">{{ 'school_appraisal.appraisal_view.grade'|_ }}</label>
                <div class="small text-danger" data-validate-for="second_skill_grade"></div>
                <small id="second_skill_grade_help" class="form-text text-muted">{{ 'school_appraisal.appraisal_view.grade_help_text' }}</small>
            </div>
        </div>
    </div>


    <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 mt-3">
        <div class="md-form">
            <input name="third_skill" type="text" id="third_skill" class="form-control" value="{{ appraisal.third_skill_name }}" {% if 'objectives-approved' != appraisal.status %} readonly {% endif %}>
            <label for="third_skill">{{ 'school_appraisal.appraisal_view.grade'|_ }}</label>
            <div class="small text-danger" data-validate-for="third_skill"></div>
            <small id="third_skill_help" class="form-text text-muted">{{ appraisal.third_skill_description }}</small>
        </div>
    </div>

    <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 mt-3">
        <div class="form-group">
            <div class="md-form">
                <input name="third_skill_grade" type="number" id="third_skill_grade" class="form-control" value="{{ appraisal.third_skill_grade }}" min="1" max="10" {% if 'evaluation-opened' != appraisal.status %} readonly {% endif %}>
                <label for="third_skill_grade">{{ 'school_appraisal.appraisal_view.grade'|_ }}</label>
                <div class="small text-danger" data-validate-for="third_skill_grade"></div>
                <small id="third_skill_grade_help" class="form-text text-muted">{{ 'school_appraisal.appraisal_view.grade_help_text' }}</small>
            </div>
        </div>
    </div>
{% endif %}


<script type="text/javascript" src="{{ 'assets/js/bootstrap-4-autocomplete.js'|theme }}"></script>

<script type="text/javascript">

    $( document ).ready(function() {
        /* MDBOOTSTRAP Limitation: Trigger change value to move all input labels up. */
        $('input.form-control').change();
        $('textarea.form-control').change();
        $('input.custom-file-input').change();

        {% if 'objectives-approved' == appraisal.status %}
            $('#first_skill').autocomplete({
                source: {{ skills|raw }},
                highlightClass: 'text-danger',
                treshold: 1
            });

            $('#second_skill').autocomplete({
                source: {{ skills|raw }},
                highlightClass: 'text-danger',
                treshold: 1
            });

            $('#third_skill').autocomplete({
                source: {{ skills|raw }},
                highlightClass: 'text-danger',
                treshold: 1
            });
        {% endif %}
    });
</script>
