description = "Displays the teacher seniorities graphic"

[viewBag]
==
<canvas id="teacherSeniorities"></canvas>

<script type="text/javascript">
    $( document ).ready(function() {
        var ctxP = document.getElementById("teacherSeniorities").getContext('2d');

        var myPieChart = new Chart(ctxP, {
            plugins: [ChartDataLabels],
            type: 'pie',
            data: {
                labels: ["{{ senioritiesLabels[1] }}", "{{ senioritiesLabels[2] }}", "{{ senioritiesLabels[3] }}", "{{ senioritiesLabels[4] }}", "{{ senioritiesLabels[5] }}"],
                datasets: [{
                    data: [{{ seniorities[1] }}, {{ seniorities[2] }}, {{ seniorities[3] }}, {{ seniorities[4] }}, {{ seniorities[5] }}],
                    backgroundColor: ["#e898a6", "#86645b", "#e36924", "#e69983", "#c02427"],
                    hoverBackgroundColor: ["#CA7A88", "#68463D", "#C54B06", "#C87B65", "#A20609"]
                }]
            },
            options: {
                responsive: true,
                legend: {
                    position: 'bottom',
                    labels: {
                        padding: 20,
                        boxWidth: 10
                    }
                },
                plugins: {
                    datalabels: {
                        formatter: (value, ctx) => {
                            let sum = 0;
                            let dataArr = ctx.chart.data.datasets[0].data;
                            dataArr.map(data => {
                                sum += data;
                            });
                            let percentage = (value * 100 / sum).toFixed(2) + "%";
                            return percentage;
                        },
                        color: 'white',
                        labels: {
                            title: {
                                    font: {
                                        size: '16'
                                }
                            }
                        }
                    }
                }
            }
        });
    });
</script>
